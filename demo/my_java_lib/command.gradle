
task test3 {
    doLast {
        println 'compiling source'
    }
}

task test2(dependsOn: test3) {
    doLast {
        println 'compiling unit tests'
    }
}

task test1(dependsOn: [test2, test3]) {
    doLast {
        println 'running unit tests'
    }
}

defaultTasks('dist')

task dist(dependsOn: [test2, test1]) {
    doLast {
        println 'building the distribution'
        println("email = ${userEmail} ")
        println("userName = ${userName}")
    }
}

tasks.create(name: 'copy', type: Copy) {
    doLast {
        def srcDir = './src'
        println("buildDir = $buildDir, srcDir = $srcDir")
        from(file(srcDir))
        into(buildDir)
    }
}

println (" ----->  ${project.dist.name}")
println (" ----->  ${project.test1.name}")
println (" ----->  ${tasks.dist.name}")
